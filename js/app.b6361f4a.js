(function(){"use strict";var e={4898:function(e,a,n){var t=n(5130),r=n(6768);const o={class:"containerSearch"},s={class:"containerPagination"},l={key:1};function u(e,a,n,t,u,c){const i=(0,r.g2)("my-select"),d=(0,r.g2)("my-input"),p=(0,r.g2)("my-pagination"),v=(0,r.g2)("cards-list");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",o,[(0,r.bF)(i,{modelValue:e.selectedSort,"onUpdate:modelValue":a[0]||(a[0]=a=>e.selectedSort=a)},null,8,["modelValue"]),(0,r.bF)(d,{modelValue:e.filteredName,"onUpdate:modelValue":a[1]||(a[1]=a=>e.filteredName=a)},null,8,["modelValue"]),(0,r.Lk)("button",{onClick:a[2]||(a[2]=(...a)=>e.sendFilteredCards&&e.sendFilteredCards(...a))},"Filter")]),(0,r.Lk)("div",s,[(0,r.bF)(p,{"total-page":e.totalPage,page:e.page,"change-page":e.changePage,"prev-change-page":e.prevChangePage,"next-change-page":e.nextChangePage},null,8,["total-page","page","change-page","prev-change-page","next-change-page"])]),e.isCardsLoading?((0,r.uX)(),(0,r.CE)("div",l," Идет загрузка...")):((0,r.uX)(),(0,r.Wv)(v,{key:0,episodes:e.allEpisodes,cards:e.cards},null,8,["episodes","cards"]))])}n(4114),n(3375),n(9225),n(3972),n(9209),n(5714),n(7561),n(6197);var c=n(144);const i={class:"container"};function d(e,a,n,t,o,s){const l=(0,r.g2)("card-component");return(0,r.uX)(),(0,r.CE)("div",i,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.cards,(a=>((0,r.uX)(),(0,r.Wv)(l,{key:a.id,card:a,episodes:e.episodes},null,8,["card","episodes"])))),128))])}var p=n(4232);const v=e=>((0,r.Qi)("data-v-44c4fdda"),e=e(),(0,r.jt)(),e),g={class:"container"},f=["src"],m={class:"content"},h={class:"name"},y={class:"statusInfo"},k={class:"status"},b={class:"status"},C=v((()=>(0,r.Lk)("div",{class:"title"},"Last known location:",-1))),P={class:"location"},L=v((()=>(0,r.Lk)("div",{class:"title"},"First seen in:",-1))),E={class:"location"};function O(e,a,n,t,o,s){return(0,r.uX)(),(0,r.CE)("div",g,[(0,r.Lk)("img",{src:e.card.image,class:"avatar",alt:"img"},null,8,f),(0,r.Lk)("div",m,[(0,r.Lk)("div",null,[(0,r.Lk)("div",h,(0,p.v_)(e.card.name),1),(0,r.Lk)("div",y,[(0,r.Lk)("div",{class:"circle",style:(0,p.Tr)({backgroundColor:e.circleColor})},null,4),(0,r.Lk)("div",k,(0,p.v_)(e.card.status)+" -",1),(0,r.Lk)("div",b,(0,p.v_)(e.card.species),1)])]),(0,r.Lk)("div",null,[C,(0,r.Lk)("div",P,(0,p.v_)(e.card.location.name),1)]),(0,r.Lk)("div",null,[L,(0,r.Lk)("div",E,(0,p.v_)(e.currentEpisode),1)])])])}var w=(0,r.pM)({props:{card:{type:Object,required:!0},episodes:{type:Array}},setup(e){const a=(0,r.EW)((()=>e.card.episode[0])),n=(0,r.EW)((()=>{switch(e.card.status){case"Alive":return"green";case"Dead":return"red";default:return"gray"}})),t=(0,r.EW)((()=>{let a="",n="";return e.episodes?.forEach((t=>{const r=e.card.episode[0].lastIndexOf("/");-1!=r&&(n=e.card.episode[0].substring(r+1)),+n===t.id&&(a=t.name)})),a}));return{firstSeen:a,circleColor:n,currentEpisode:t}}}),_=n(1241);const A=(0,_.A)(w,[["render",O],["__scopeId","data-v-44c4fdda"]]);var V=A,F=(0,r.pM)({components:{CardComponent:V},props:{cards:{type:Array,required:!0},episodes:{type:Array}}});const K=(0,_.A)(F,[["render",d],["__scopeId","data-v-ddc83a74"]]);var M=K,R=n(4373);const x={withCredentials:!1},S=R.A.create({baseURL:"https://rickandmortyapi.com/api",...x}),X=(0,r.Lk)("option",{value:""},"All",-1),j=(0,r.Lk)("option",{value:"alive"},"Alive",-1),I=(0,r.Lk)("option",{value:"dead"},"Dead",-1),W=(0,r.Lk)("option",{value:"unknown"},"Unknown",-1),T=[X,j,I,W];function U(e,a,n,o,s,l){return(0,r.bo)(((0,r.uX)(),(0,r.CE)("select",{"onUpdate:modelValue":a[0]||(a[0]=a=>e.selectedValue=a),onChange:a[1]||(a[1]=(...a)=>e.changeOption&&e.changeOption(...a))},T,544)),[[t.u1,e.selectedValue]])}var q=(0,r.pM)({name:"my-select",setup(e,{emit:a}){const n=(0,c.KR)(""),t=e=>{a("update:selectedValue",e.target.value)};return{selectedValue:n,changeOption:t}}});const N=(0,_.A)(q,[["render",U]]);var D=N;function $(e,a,n,o,s,l){return(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",{"onUpdate:modelValue":a[0]||(a[0]=a=>e.namePerson=a),onChange:a[1]||(a[1]=(...a)=>e.changeValue&&e.changeValue(...a))},null,544)),[[t.Jo,e.namePerson]])}var B=(0,r.pM)({name:"my-input",setup(e,{emit:a}){const n=(0,c.KR)(""),t=e=>{a("update:namePerson",e.target.value)};return{namePerson:n,changeValue:t}}});const J=(0,_.A)(B,[["render",$]]);var Q=J;const z={class:"container"},G=["disabled"],H=["onClick"],Y=["disabled"];function Z(e,a,n,t,o,s){return(0,r.uX)(),(0,r.CE)("div",z,[(0,r.Lk)("button",{onClick:a[0]||(a[0]=(...a)=>e.decrement&&e.decrement(...a)),disabled:e.isFirstPage},"prev",8,G),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.paginatedPages,(a=>((0,r.uX)(),(0,r.CE)("div",{key:a,class:(0,p.C4)(["page",{currentPage:e.page===a}]),onClick:n=>e.handleChangePage(a)},(0,p.v_)(a),11,H)))),128)),(0,r.Lk)("button",{onClick:a[1]||(a[1]=(...a)=>e.increment&&e.increment(...a)),disabled:e.isLastPage},"next",8,Y)])}var ee=(0,r.pM)({name:"MyPagination",props:{totalPage:{type:Number,required:!0},page:{type:Number,required:!0},changePage:{type:Function,required:!0}},setup(e){const a=(0,c.KR)(e.page),n=(0,r.EW)((()=>1===a.value)),t=(0,r.EW)((()=>a.value===e.totalPage)),o=(0,r.EW)((()=>{const n=[],t=2,r=a.value-t,o=a.value+t;for(let a=1;a<=e.totalPage;a++)1===a||a===e.totalPage||a>=r&&a<=o?n.push(a):(a<r&&"..."!==n[n.length-1]||a>o&&"..."!==n[n.length-1])&&n.push("...");return n})),s=n=>{"number"===typeof n&&(a.value=n,e.changePage(n))},l=()=>{a.value<e.totalPage&&(a.value++,e.changePage(a.value))},u=()=>{a.value>1&&(a.value--,e.changePage(a.value))};return(0,r.wB)((()=>e.page),(e=>{a.value=e})),{currentPage:a,isFirstPage:n,isLastPage:t,paginatedPages:o,handleChangePage:s,increment:l,decrement:u}}});const ae=(0,_.A)(ee,[["render",Z],["__scopeId","data-v-38c40350"]]);var ne=ae,te=(0,r.pM)({name:"App",components:{MyPagination:ne,MySelect:D,CardsList:M,MyInput:Q},setup(){const e=(0,c.KR)([]),a=(0,c.KR)(""),n=(0,c.KR)(""),t=(0,c.KR)(1),r=(0,c.KR)(0),o=(0,c.KR)({}),s=(0,c.KR)(!1),l=(0,c.KR)([]),u=(0,c.KR)([]),i=async(a={})=>{try{s.value=!0;const n=await S.get("/character",{params:{status:a.status,name:a.name,page:a.page??t.value}});r.value=n.data.info.pages,e.value=[...n.data.results],o.value=n.data.info,await d()}catch(n){console.log("some error")}finally{s.value=!1}},d=async()=>{const a=new Set;e.value.forEach((e=>{const n=e.episode[0].lastIndexOf("/");if(-1!=n){const t=e.episode[0].substring(n+1);a.add(t)}})),l.value=[...a];try{const e=await S.get(`/episode/${l.value}`);e.data.length?u.value=e.data:u.value.push(e.data)}catch(n){console.log(n)}},p=()=>{t.value=1,i({status:a.value,name:n.value,page:t.value})},v=e=>{t.value=e,i({status:a.value,name:n.value,page:e})},g=()=>{t.value>1&&(t.value-=1,i({status:a.value,name:n.value,page:t.value}))},f=()=>{t.value<r.value&&(t.value+=1,i({status:a.value,name:n.value,page:t.value}))};return i(),{cards:e,selectedSort:a,filteredName:n,page:t,totalPage:r,isCardsLoading:s,allEpisodes:u,sendFilteredCards:p,changePage:v,prevChangePage:g,nextChangePage:f}}});const re=(0,_.A)(te,[["render",u]]);var oe=re,se=n(1387);const le=[],ue=(0,se.aE)({history:(0,se.LA)("/rickandmortyTest/"),routes:le});var ce=ue,ie=n(782),de=(0,ie.y$)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,t.Ef)(oe).use(de).use(ce).mount("#app")}},a={};function n(t){var r=a[t];if(void 0!==r)return r.exports;var o=a[t]={exports:{}};return e[t].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(a,t,r,o){if(!t){var s=1/0;for(i=0;i<e.length;i++){t=e[i][0],r=e[i][1],o=e[i][2];for(var l=!0,u=0;u<t.length;u++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](t[u])}))?t.splice(u--,1):(l=!1,o<s&&(s=o));if(l){e.splice(i--,1);var c=r();void 0!==c&&(a=c)}}return a}o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[t,r,o]}}(),function(){n.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(a,{a:a}),a}}(),function(){n.d=function(e,a){for(var t in a)n.o(a,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};n.O.j=function(a){return 0===e[a]};var a=function(a,t){var r,o,s=t[0],l=t[1],u=t[2],c=0;if(s.some((function(a){return 0!==e[a]}))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(u)var i=u(n)}for(a&&a(t);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(i)},t=self["webpackChunkrickandmorty"]=self["webpackChunkrickandmorty"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=n.O(void 0,[504],(function(){return n(4898)}));t=n.O(t)})();
//# sourceMappingURL=app.b6361f4a.js.map